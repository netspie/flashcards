@using TagDTO = GetProjectTagsQueryResponse.ProjectTagDTO;

@if (_dto is null) { return; }

<SpyDialog @ref=@_dialog>
    <ChildContent>
        <MudTextField Label="Name" Value="@_dto.Name" ValueChanged="@_dto.Bind(x => x.Name)"></MudTextField>
        <MudNumericField Label="Order" Value="@_dto.Order" ValueChanged="@_dto.Bind(x => x.Order)"></MudNumericField>
    </ChildContent>
    <Buttons>
        <MudButton Color="Color.Primary" OnClick="x => _dialog?.Submit(_dto)">Save</MudButton>
        <MudButton Color="Color.Error" OnClick="x => _dialog?.Cancel()">Cancel</MudButton>
    </Buttons>
</SpyDialog>

@code {
    [Parameter] public GetProjectTagsQueryResponse.ProjectTagDTO? DTO { get; set; }
    private TagDTO? _dto;

    private SpyDialog? _dialog;

    protected override void OnInitialized()
    {
        _dto = DTO?.DeepCopy() ?? TagDTO.Default;
    }
}